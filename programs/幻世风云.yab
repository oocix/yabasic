notice$="name$为玩家名称"name$="漠鱼"for o1=0 to 119line 0,o1 to 159,o1line 0,239-o1 to 159,239-o1nextfor o2=1 to 9?reverse@(o2,9)"幻世风云":?reverse@(o2-1,9)" "?reverse@(18-o2,11)"从此开始":?reverse@(26-o2,11)" "circle int(ran(159)),int(ran(239)),int(ran(7))nextdim help$(7)dim meu$(4)data "新的游戏","读取进度","游戏帮助","退出游戏"for r=1 to 4read meu$(r)nextdim map$(7)data "神之大陆","忆水之阁","迷失落城","暗翼之巢","失落衡塔","天空之城","远古战场"for r=1 to 7read map$(r)nextdim fun$(5)data "返回游戏","使用物品","查看属性","地图传送","退出游戏"for r=1 to 5read fun$(r)nextdim wp$(7)data "止痛药水","小型回魔","生命泉水","魔法晶石","蚀骨毒钉","修炼之石","玄天套装"for r=1 to 7read wp$(r)nextdim wph$(7)data "可加HP50点.","可加MP50点.","可加HP300点.","可加MP300点.","战斗用品,固定伤血150点.","随机增加一项属性0-5点.","可增加攻防等属性."for r=1 to 7read wph$(r)nextdim wp(7)dim sk$(7)data "治疗术","火球术","冰封术","暴雨雪","地狱烈焰","破碎虚空","必杀技"for r=1 to 7read sk$(r)nextdim skh$(7)data "MP-20,HP+50","MP-30,伤害30-50点.","MP-60,伤害60-100点.","MP-100群伤100-150点.","MP-300,群伤300-500点.","MP-All,群伤700-1000点","MP-All,LV-1,群秒."for r=1 to 7read skh$(r)nextdim gw$(5)data "守护者","星临君","独舞者","夜游神","六翼"for r=1 to 5read gw$(r)nextinkey$:gosub clslabel menu:clear screenrss=0:mu3=6:mu4=1label mu1:mu2=0?@(3,3)"幻世 On MJ_BASIC"?@(8,4)"Ver 3.1"?@(1,15)"Produced by Moyu"?@(1,16)"http://yisge.51letu.com.!"?@(1,17)"copyright (c) 2007"?@(1,18)"Yis.G.E all rights reversed";?@(20,19)"^_^"for mu1=1 to 4?@(7,mu2+6)meu$(mu1)?reverse@(6,mu2+6)"+"?reverse@(15,mu2+6)"+"mu2=mu2+2next?reverse@(6,mu3)"+"+meu$(mu4)+"+"k$=inkey$if k$="keya5" and mu3>6 thenmu3=mu3-2:mu4=mu4-1goto mu1elsif k$="keya6" and mu3<12 thenmu3=mu3+2:mu4=mu4+1goto mu1elsif k$="keya7" thengoto mu2else:goto mu1filabel mu2if mu3=6 thengoto regelsif mu3=8 thengosub sorryelsif mu3=10 thengosub helpelsif mu3=12 then?@(1,19):endelse:goto mu1figoto mu1label sorry:gosub cls?@(1,9)"抱歉,等MJ_BASIC支持Open语句再说吧..."inkey$clear screen:returnlabel help:gosub cls?@(9,9)"探索..."inkey$clear screen:returnlabel reg:gosub clsbox 0,0 to 159,14?@(10,1)"人物注册"box 0,15 to 159,87box 0,88 to 159,239?@(1,2)"人物名称:",name$text 0,50,"自选名称暂时关闭"text 0,69,"大家可以改name$的值"text 0,91,"人物初始属性:"?@(8,10)"力量:",llt?@(8,11)"敏捷:",mjt?@(8,12)"智力:",zlt?@(8,13)"幸运:",xyttext 0,210,"不满意可按背光重新随机"text 0,190,"播放键确认,停止键重新填写"text 33,170,"属性最高12点"label rsfor tp=10 to 13:?@(13,tp)"  ":nextllt=int(ran(12))mjt=int(ran(12))zlt=int(ran(12))xyt=int(ran(12))?@(13,10)llt?@(13,11)mjt?@(13,12)zlt?@(13,13)xytrss=rss+1if rss=23 thengoto rst:figoto rslabel rstk$=inkey$if k$="keya7" thenrss=0goto rselsif k$="keya3" thenll=llt:mj=mjt:zl=zlt:xy=xytgoto newgameelsif k$="keya4" thenrss=0goto regelse:goto rstfilabel newgame:gosub clsgosub mess?@(2,9)name$,",幻世欢迎您的到来.!"inkey$lv=1:hpa=120:mpa=120:expa=100:mapn=1:x=10:y=10:mny=300:wp(1)=5:wp(2)=5:wp(3)=2:wp(4)=2:wp(5)=5:wp(6)=1:wp(7)=1:fpd=10:skn=7goto gamelabel utdgj=ll*3fy=mj*3ml=zl*3mz=xy*3hpa=120+lv*30+mj*10mpa=120+lv*20+ml*10if hpb>hpa thenhpb=hpa:fiif mpb>mpa thenmpb=mpa:fiexpa=lv*70+300returnlabel gamegosub utdhpb=hpa:mpb=mpagosub displaylabel pmove?@(22,3)"     "?@(17,3)"坐标:",x,",",ygosub pmpd?@(x,y)"×"k$=inkey$if k$="keya5" and x>1 thenx=x-1:?@(x+2,y)" "goto pmoveelsif k$="keya6" and x<26 thenx=x+1:?@(x-1,y)" "goto pmoveelsif k$="keya3" and y>4 theny=y-1:?@(x,y+1)"  "goto pmoveelsif k$="keya4" and y<17 theny=y+1:?@(x,y-1)"  "goto pmoveelsif k$="keya7" thengoto funelse:goto pmovefigoto pmovelabel pmpdwor=int(ran(5))if wor=3 thengosub wor:fireturnlabel funcstip$="请选择您要的操作:"csm1$="选定第 ":csm2$=" 项操作"csn=5:clear screenfor cp=1 to csn?@(6,4+cp)cp,".",fun$(cp)nextgosub chooseif k$="keya3" then?@(3,17)"此选项对本菜单无用.":inkey$:goto fun:fiif chos=2 thengosub wpinelsif chos=3 thengosub sxingelsif chos=4 thencstip$="传送一次需100金币"csm1$="选定第 ":csm2$=" 张地图"csn=7:clear screenfor cp=1 to csn?@(6,4+cp)cp,".",map$(cp)nextgosub chooseif k$="keya3" then:clear screen:goto fun:fiif mny<100 then?@(3,17)"金币不够,滚～!":inkey$:goto fun:fimapn=chos:mny=mny-100for dd=int(ran(5)) to 1 step -1?@(3,17)"等待 ",dd," 秒后到达"pause 1nextgosub display:goto pmoveelsif chos=1 thengosub cls:gosub display:goto pmoveelsif chos=5 thengosub cls:goto menufigoto funlabel choosechos=1?@(2,2)cstip$?@(20,1)"播放返回";label choif chos<=0 thenchos=csn:fiif chos>=csn+1 thenchos=1:fi?@(2,chos+4)"=->"?@(2,19)csm1$,chos,csm2$?@(1,15)"                                        "?@(1,15)help$(chos)k$=inkey$if k$="keya5" then?@(2,chos+4)"   ":chos=chos-1goto choelsif k$="keya6" then?@(2,chos+4)"   ":chos=chos+1goto choelsif k$="keya7" or k$="keya3" thenfor r=1 to 7help$(r)=""next:returnelse:goto chofigoto cholabel wpincstip$="金钱:"csm1$="使用第 ":csm2$=" 个物品"if wyz=1 then:csn=5else:csn=7:ficlear screenfor cp=1 to csnhelp$(cp)=wph$(cp)?@(6,4+cp)cp,".",wp$(cp)?@(16,4+cp)":",wp(cp)next?@(7,2)mnygosub chooseif k$="keya3" thenclear screen:return:fiif(chos=1 or chos=3)and(hpb>=hpa)thenhpb=hpa?@(3,17)"HP已满.!"inkey$:goto wpin:fiif(chos=2 or chos=4)and(mpb>=mpa)thenmpb=mpa?@(3,17)"MP已满.!"inkey$:goto wpin:fiif wp(chos)<=0 then?@(3,17)"物品不足.!"inkey$:goto wpin:fiwp(chos)=wp(chos)-1on chos gosub u1,u2,u3,u4,u5,u6,u7inkey$if wyz=1 then:return:figoto wpinlabel u1?@(3,17)"HP+50"hpb=hpb+50returnlabel u2?@(3,17)"MP+50"mpb=mpb+50returnlabel u3?@(3,17)"HP+300"hpb=hpb+300returnlabel u4?@(3,17)"MP+300"mpb=mpb+300returnlabel u7?@(3,17)"基础属性全+2"returnlabel u6?@(3,17)"属性+5"returnlabel u5?@(3,17)"战斗中方可使用"returnlabel sxing:clear screengosub utd?@(1,1)"玩家:",name$?@(1,2)"LV:",lv?@(1,3)"HP:",hpb,"/",hpa?@(1,4)"MP:",mpb,"/",mpa?@(1,5)"EXP:",expb,"/",expa?@(5,7)"力量:",ll?@(9,8)"攻击:",gj," +",jgj?@(5,9)"敏捷:",mj?@(9,10)"防御:",fy," +",jfy?@(5,11)"智力:",zl?@(9,12)"魔力:",ml," +",jml?@(5,13)"幸运:",xy?@(9,14)"命中:",(mz/(mz+12))*100 using "##.#","% +",(jmz/(jmz+12))*100 using "##.#","%"if fpd<=0 then?@(5,16)"无可分配点"inkey$:clear screen:return:fi?@(2,16)"剩余可分配点:",fpd?@(1,18)"上下曲分配点数,背光确认.只":?"有一次机会.!"sxfp=0:fpt=ll:fptl=lllabel sxfpm?@(2,sxfp+7)"=>"?@(10,sxfp+7)"   "?@(10,sxfp+7)fpt?@(15,16)"   "?@(15,16)fpdk$=inkey$if k$="keya5" and fpt>fptl thenfpt=fpt-1:fpd=fpd+1goto sxfpm:fiif k$="keya6" and fpd>0 thenfpt=fpt+1:fpd=fpd-1goto sxfpm:fiif k$="keya7" thenif sxfp=0 thenll=fpt:fpt=mj:fptl=mjelsif sxfp=2 thenmj=fpt:fpt=zl:fptl=zlelsif sxfp=4 thenzl=fpt:fpt=xy:fptl=xyelsif sxfp=6 thenxy=fpt:goto sxfpd:fisxfp=sxfp+2?@(2,sxfp+5)"  "goto sxfpmelse:goto sxfpm:figoto sxfpmlabel sxfpd?@(15,17)"分配已完成.!"inkey$:clear screen:returnlabel display:clear screengosub utd?@(1,1)"玩家:",name$?@(1,2)"HP:",hpb,"/",hpa?@(1,3)"MP:",mpb,"/",mpa?@(1,18)"LV:",lv?@(1,19)"EXP:",expb,"/",expa?@(19,1)map$(mapn)?@(22,3)"     "?@(17,3)"坐标:",x,",",ybox 0,229 to 159,239for exps=0 to expb/expa*159 step 3line exps,229 to exps,239nextreturnlabel worglv=int(ran(lv))if glv=0 then:glv=1:figgj=glv*3+int(ran(12))gfy=glv*2+int(ran(12))gml=glv*2+int(ran(12))gmz=glv*2+int(ran(12))ghpa=glv*30+gfy*2+120gmpa=glv*20+gml*2+100ghpb=ghpa:gmpb=gmpawm=1gwn=int(ran(6))if gwn=0 then:gwn=1:figwn$=gw$(gwn)gws=int(ran(4))if gws=0 then:gws=1:fiwyz=1label worngosub wdspgoto wormlabel wdsp:clear screen?@(1,1)"对敌:"+gwn$?@(1,2)"LV:",glv?@(1,3)"HP:",ghpb,"/",ghpa?@(1,4)"MP:",gmpb,"/",gmpa?@(1,16)"玩家:"+name$?@(1,17)"LV:",lv?@(1,18)"HP:",hpb,"/",hpa?@(1,19)"MP:",mpb,"/",mpabox 0,229 to 159,239for tmp=1 to gws?@(4+ddw,6)"@"?@(2+ddw,7)"-+#+-"?@(3+ddw,8)"| |"ddw=ddw+7next:ddw=0?@(15,13)"@"?@(13,14)"*-#-*"?@(14,15)"/ |"?@(24,14)"攻击";?@(24,15)"法术";?@(24,16)"防御";?@(24,17)"物品";?@(24,18)"逃跑";?@(24,19)"求饶";returnlabel wormif wm<=0 then:wm=6:fiif wm>=7 then:wm=1:fi?@(21,wm+13)"=>"k$=inkey$if k$="keya5" then?@(21,wm+13)"  ":wm=wm-1goto wormelsif k$="keya6" then?@(21,wm+13)"  ":wm=wm+1goto wormelsif k$="keya7" thenon wm gosub atk,ski,fang,wpin,tao,qiuelse:goto worm:fiif ghpb<=0 thengoto fsh:fiif hpb<=0 thengoto die:figosub cpaigoto wornlabel atkfor ak=13 to 7 step -1?@(15,ak)"@"?@(13,ak+1)"*-#-*"?@(13,ak+2)" / | "?@(13,ak+3)"     "for akdd=1 to 123next:nextfor ak=1 to 23aky=int(ran(59))+60line aky,int(ran(239)) to aky,int(ran(239))nextghpb=ghpb-gj+int(gfy/3)returnlabel skicstip$="现拥有的技能"csm1$="使用第 ":csm2$=" 个技能"csn=skn:clear screenfor cp=1 to csnhelp$(cp)=skh$(cp)?@(6,4+cp)cp,"."+sk$(cp)nextgosub chooseif k$="keya3" thengoto worn:fiif chos>1 thengosub mess?@(2,10)"抱歉,功能暂时没有"inkey$:goto ski:fion chos gosub sk1,sk2,sk3,sk4,sk5,sk6,sk7inkey$returnlabel sk1if hpb>=hpa then?@(3,17)"Hp已满.!"inkey$:goto skielsif mpb<=19 then?@(3,17)"Mp不足.!"inkey$:goto ski:fihpb=hpb+50:mpb=mpb-20gosub wdspkw=1:gosub skwfor sk1=1 to 23for skk1=1 to 57:nextcircle int(ran(60))+57,int(ran(60))+130,int(ran(3))next?@(7,10)"Hp+50,is OK.!"returnlabel sk2?sk$(2):returnlabel sk3?sk$(3):returnlabel sk4?sk$(4):returnlabel sk5?sk$(5):returnlabel sk6?sk$(6):returnlabel sk7?sk$(7):returnlabel skwtext 68,227,"Ready"for skw=0 to 80 step kwline skw,229 to skw,239line 159-skw,229 to 159-skw,239nexttext 68,227,".Go.!"returnlabel fanggosub mess?@(2,10)"绝对防御.!"inkey$:tfy=lv*10returnlabel taogosub mess?@(2,9)name$+":"?@(2,10)"三十六计,走为上策,偶闪也～.!"inkey$tmp=int(ran(100))if tmp>=93 thengosub cls:gosub display:goto pmoveelse:gosub mess?@(2,9)gwn$+":":?@(2,10)"小子想跑?! 看我不玩死你!":inkey$:return:fireturnlabel qiugosub mess?@(2,9)name$+":"?@(2,10)"大爷绕命啊.! 小弟认输.!"inkey$tmp=int(ran(100))gosub messif tmp>93 then?@(2,9)gwn$+":"?@(2,10)"呵呵,大爷今天心情好.你滚吧.!"inkey$:gosub cls:gosub display:goto pmoveelse:?@(2,9)gwn$+":"?@(2,10)"哈哈,你想都别想,看我今天不玩死你?!"inkey$:return:fireturnlabel fshwyz=0expp=glv*20*gws+int(ran(glv*100))mnyp=glv*10*gws+int(ran(glv*50))if expb>=expa thenlabel explexpb=expb-expalv=lv+1:fpdp=fpdp+5if expb>=expa thengoto expl:figosub utd:hpb=hpa:mpb=mpagosub mess?@(2,9)"恭喜您升级了.!"?@(2,10)"您获得了",fpdp,"点自由分配点.."fpd=fpd+fpdp:fpdp=0else:gosub mess?@(2,9)"您获得",expp,"点经验.!"expb=expb+expp?@(2,10)"金钱:",mnypmny=mny+mnypif int(ran(2))=0 thenget=int(ran(6))+1?@(2,11)"物品:",wp$(get)wp(get)=wp(get)+1fifiinkey$:gosub cls:gosub display:goto pmovelabel die:gosub clsgosub mess?@(3,10)"死亡是新生的开始..."inkey$:expb=0:hpb=int(hpa/10):gosub cls:gosub display:goto pmovelabel cpaipause 1gosub mess?@(5,10)gwn$+"反击.!"hpb=hpb-ggj+int((fy+tfy)/10)tfy=0pause 1returnlabel messcircle 0,90,7circle 159,90,7circle 0,171,7circle 159,171,7box 0,90 to 159,171box 0,93.5 to 159,167.5returnlabel clsfor cls=0 to 49 step 7text 0,cls,"                           "text 0,73-cls,"                           "text 0,73+cls,"                           "text 0,153-cls,"                           "text 0,153+cls,"                           "text 0,227-cls,"                           "text 0,228,"                           "clsd=clsd+1if clsd>=6 thenclsd=0:return:finextreturn